<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SIIA - Payment Process</title>

    <meta name="description" content="SIIA Trainee Payment Process Page" />

    <!-- Bootstrap Core (Will be swapped for RTL on language change) -->
    <link
      id="bootstrap-style"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Main Styles -->
    <link href="../css/style.css" rel="stylesheet" />

    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Skip Link -->
    <a class="skip-to-content visually-hidden-focusable" href="#main-content"
      >Skip to main content</a
    >

    <!-- Hidden live region for announcements -->
    <div aria-live="polite" class="visually-hidden" id="pageStatus"></div>

    <header role="banner" aria-labelledby="siteTitle">
      <h1 id="siteTitle" class="visually-hidden">SIIA Trainee Dashboard</h1>
    </header>

    <main id="main-content" role="main" tabindex="-1" aria-label="Main content">
      <div class="container-fluid px-3 px-md-5 py-3 py-md-5">
        <div class="d-flex flex-column flex-lg-row gap-4 gap-lg-5">
          <!-- SIDEBAR -->
          <aside
            class="dashboardSidebar flex-shrink-0 card border-0 shadow-sm p-4 p-lg-6 d-none d-lg-block"
            role="navigation"
            aria-label="Primary sidebar navigation"
          >
            <div class="mb-4 text-center">
              <img
                src="https://i.pravatar.cc/100?img=3"
                alt="Trainee profile photo"
                class="w-50 rounded-circle mx-auto mb-3"
              />
              <h2 class="h6">Aster Seawalker</h2>
              <p class="text-muted small">Individual Member</p>
            </div>

            <nav
              class="dashboardNav d-flex flex-column"
              aria-label="Main navigation"
            >
              <a
                href="#"
                class="btn btn-outline-primary"
                aria-current="page"
                aria-label="Dashboard"
              >
                <i class="bi bi-bar-chart-line" aria-hidden="true"></i>
                <span>Dashboard</span>
              </a>
              <a href="#" class="btn btn-primary active" aria-label="Courses">
                <i class="bi bi-mortarboard" aria-hidden="true"></i>
                <span>Courses</span>
              </a>
              <a href="#" class="btn btn-outline-primary" aria-label="Programs">
                <i class="bi bi-journal-bookmark" aria-hidden="true"></i>
                <span>Programs</span>
              </a>
              <a
                href="#"
                class="btn btn-outline-primary"
                aria-label="Assessments"
              >
                <i class="bi bi-clipboard2-check" aria-hidden="true"></i>
                <span>Assessments</span>
              </a>
              <a href="#" class="btn btn-outline-primary" aria-label="Events">
                <i class="bi bi-calendar4-week" aria-hidden="true"></i>
                <span>Events</span>
              </a>
              <a
                href="#"
                class="btn btn-outline-primary"
                aria-label="Memberships"
              >
                <i class="bi bi-card-checklist" aria-hidden="true"></i>
                <span>Memberships</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Admins">
                <i class="bi bi-person" aria-hidden="true"></i
                ><span>Admins</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Trainers">
                <i class="bi bi-person-check" aria-hidden="true"></i
                ><span>Trainers</span>
              </a>
              <a
                class="btn btn-outline-primary"
                href="#"
                aria-label="Trainee and Students"
              >
                <i class="bi bi-people" aria-hidden="true"></i
                ><span>Trainee &amp; Students</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Reports">
                <i class="bi bi-pie-chart" aria-hidden="true"></i
                ><span>Reports</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Payments">
                <i class="bi bi-credit-card-2-front" aria-hidden="true"></i
                ><span>Payments</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Library">
                <i class="bi bi-book" aria-hidden="true"></i
                ><span>Library</span>
              </a>
              <a
                class="btn btn-outline-primary"
                href="#"
                aria-label="Certificates"
              >
                <i class="bi bi-patch-check" aria-hidden="true"></i
                ><span>Certificates</span>
              </a>
              <a class="btn btn-outline-primary" href="#" aria-label="Log out">
                <i class="bi bi-box-arrow-right" aria-hidden="true"></i
                ><span>Log Out</span>
              </a>
            </nav>
          </aside>

          <!-- Mobile Offcanvas Sidebar -->
          <div
            class="mobileSidebar offcanvas offcanvas-start w-25"
            tabindex="-1"
            id="mobileSidebar"
            role="dialog"
            aria-labelledby="mobileSidebarLabel"
            aria-modal="true"
          >
            <div class="offcanvas-header">
              <h6 id="mobileSidebarLabel" class="visually-hidden">
                Mobile Sidebar Menu
              </h6>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close menu"
              ></button>
            </div>
            <div class="offcanvas-body p-0">
              <div class="p-4">
                <div class="mb-4 text-center">
                  <img
                    src="https://i.pravatar.cc/100?img=3"
                    alt="Admin profile picture"
                    class="rounded-circle mb-3"
                    style="width: 80px"
                  />
                  <h6>Aster Seawalker</h6>
                  <p class="text-muted small">Individual Member</p>
                </div>

                <nav
                  class="dashboardNav d-flex flex-column"
                  aria-label="Mobile navigation"
                >
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Dashboard"
                  >
                    <i class="bi bi-bar-chart-line" aria-hidden="true"></i>
                    <span>Dashboard</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-primary active"
                    aria-label="Courses"
                  >
                    <i class="bi bi-mortarboard" aria-hidden="true"></i>
                    <span>Courses</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Programs"
                  >
                    <i class="bi bi-journal-bookmark" aria-hidden="true"></i>
                    <span>Programs</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Assessments"
                  >
                    <i class="bi bi-clipboard2-check" aria-hidden="true"></i>
                    <span>Assessments</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Events"
                  >
                    <i class="bi bi-calendar4-week" aria-hidden="true"></i>
                    <span>Events</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Memberships"
                  >
                    <i class="bi bi-card-checklist" aria-hidden="true"></i>
                    <span>Memberships</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Admins"
                  >
                    <i class="bi bi-person" aria-hidden="true"></i>
                    <span>Admins</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Trainers"
                  >
                    <i class="bi bi-person-check" aria-hidden="true"></i>
                    <span>Trainers</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Trainee and Students"
                  >
                    <i class="bi bi-people" aria-hidden="true"></i>
                    <span>Trainee &amp; Students</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Reports"
                  >
                    <i class="bi bi-pie-chart" aria-hidden="true"></i>
                    <span>Reports</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Payments"
                  >
                    <i class="bi bi-credit-card-2-front" aria-hidden="true"></i>
                    <span>Payments</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Library"
                  >
                    <i class="bi bi-book" aria-hidden="true"></i>
                    <span>Library</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Certificates"
                  >
                    <i class="bi bi-patch-check" aria-hidden="true"></i>
                    <span>Certificates</span>
                  </a>
                  <a
                    href="#"
                    class="btn btn-outline-primary"
                    aria-label="Log out"
                  >
                    <i class="bi bi-box-arrow-right" aria-hidden="true"></i>
                    <span>Log Out</span>
                  </a>
                </nav>
              </div>
            </div>
          </div>

          <!-- MAIN CONTENT -->
          <div
            class="flex-grow-1 d-flex flex-column gap-3 gap-lg-5"
            role="region"
            aria-label="Main Content Area"
          >
            <!-- Top Bar -->
            <header
              class="card border-0 shadow-sm px-2 px-md-3 py-2"
              role="banner"
              aria-label="Top bar"
            >
              <div
                class="d-flex justify-content-between align-items-center px-2 px-md-3 py-2"
              >
                <div class="d-flex align-items-center">
                  <!-- Mobile Hamburger -->
                  <button
                    class="btn btn-primary px-2 py-0 d-lg-none shadow-lg me-2"
                    id="hamburgerBtn"
                    data-bs-toggle="offcanvas"
                    data-bs-target="#mobileSidebar"
                    aria-controls="mobileSidebar"
                    aria-label="Open main menu"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    <i class="bi bi-list fs-2 fw-bold" aria-hidden="true"></i>
                  </button>

                  <!-- Search -->
                  <div
                    class="position-relative flex-grow-1 me-3 w-100 mw-100"
                    role="search"
                    aria-label="Site search"
                  >
                    <i
                      class="bi bi-search position-absolute start-0 top-50 ms-3 translate-middle-y"
                      aria-hidden="true"
                    ></i>
                    <label for="globalSearch" class="visually-hidden"
                      >Search</label
                    >
                    <input
                      id="globalSearch"
                      type="text"
                      class="form-control ps-9 rounded-pill"
                      placeholder="Search anything"
                      aria-label="Search site"
                      aria-describedby="globalSearchHelp"
                    />
                    <div id="globalSearchHelp" class="visually-hidden">
                      Type and press Enter to search the site
                    </div>
                  </div>
                </div>

                <!-- Icons -->
                <div class="d-flex align-items-center gap-2 flex-shrink-0">
                  <button
                    class="btn p-1 border-0 fs-4 d-none d-sm-inline-block"
                    aria-label="Open messages"
                  >
                    <i class="bi bi-envelope" aria-hidden="true"></i>
                  </button>
                  <button
                    class="btn p-1 border-0 fs-4 d-none d-sm-inline-block"
                    aria-label="View notifications"
                  >
                    <i class="bi bi-bell" aria-hidden="true"></i>
                  </button>
                  <button
                    class="btn p-1 border-0 fs-4 d-none d-sm-inline-block"
                    aria-label="Open help"
                  >
                    <i class="bi bi-question-circle" aria-hidden="true"></i>
                  </button>

                  <!-- Mobile dropdown -->
                  <div class="dropdown d-sm-none">
                    <button
                      class="btn p-1 border-0 fs-4"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      aria-label="Open quick actions"
                    >
                      <i
                        class="bi bi-three-dots-vertical"
                        aria-hidden="true"
                      ></i>
                    </button>
                    <ul
                      class="dropdown-menu dropdown-menu-end"
                      role="menu"
                      aria-label="Quick actions"
                    >
                      <li>
                        <a class="dropdown-item" href="#" role="menuitem">
                          <i class="bi bi-envelope me-2" aria-hidden="true"></i
                          >Messages
                        </a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#" role="menuitem">
                          <i class="bi bi-bell me-2" aria-hidden="true"></i
                          >Notifications
                        </a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="#" role="menuitem">
                          <i
                            class="bi bi-question-circle me-2"
                            aria-hidden="true"
                          ></i
                          >Help
                        </a>
                      </li>
                    </ul>
                  </div>

                  <!-- Language Dropdown -->
                  <div class="dropdown d-none d-sm-block">
                    <button
                      id="langButton"
                      class="btn btn-sm btn-outline-secondary dropdown-toggle border"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-label="Select language"
                    >
                      English
                    </button>

                    <ul
                      class="dropdown-menu"
                      role="menu"
                      aria-label="Language selection"
                      id="langMenu"
                    >
                      <li>
                        <button
                          class="dropdown-item active"
                          data-lang="en"
                          role="menuitemradio"
                          aria-checked="true"
                        >
                          English
                        </button>
                      </li>
                      <li>
                        <button
                          class="dropdown-item"
                          data-lang="ar"
                          role="menuitemradio"
                          aria-checked="false"
                        >
                          العربية
                        </button>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </header>

            <!-- PAYMENT CARD -->
            <section
              class="card border-0 shadow-sm p-3 p-md-4 p-lg-6"
              role="region"
              aria-labelledby="paymentHeading"
            >
              <h2 id="paymentHeading" class="h2 h-md-3 h-lg-2 mb-4">
                Payment Process
              </h2>
              <div class="row justify-content-center">
                <div class="col">
                  <!-- COURSE ITEMS -->
                  <div class="mb-4" aria-label="Selected course items">
                    <div
                      class="bg-white rounded-3 shadow-none border p-2 mx-0 mb-4"
                      role="group"
                      aria-label="Course item PRC CIA"
                    >
                      <div class="d-flex gap-4">
                        <!-- Book Image -->
                        <div>
                          <img
                            src="../images/ic-book.svg"
                            alt="PRC CIA Book Cover"
                            style="height: 70px"
                          />
                        </div>

                        <!-- Course Details -->
                        <div>
                          <div class="d-flex flex-column h-100">
                            <h6 class="fw-bold mb-0">PRC CIA</h6>
                            <div class="mt-auto" aria-label="Price for PRC CIA">
                              <span class="fs-6">SAR</span>
                              <span class="fw-semibold fs-4 ms-1">150.00</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div
                      class="bg-white rounded-3 shadow-none border p-2 mx-0"
                      role="group"
                      aria-label="Course item PRC CIA duplicate"
                    >
                      <div class="d-flex gap-4">
                        <!-- Book Image -->
                        <div>
                          <img
                            src="../images/ic-book.svg"
                            alt="PRC CIA Book Cover"
                            style="height: 70px"
                          />
                        </div>

                        <!-- Course Details -->
                        <div>
                          <div class="d-flex flex-column h-100">
                            <h6 class="fw-bold mb-0">PRC CIA</h6>
                            <div class="mt-auto" aria-label="Price for PRC CIA">
                              <span class="fs-6">SAR</span>
                              <span class="fw-semibold fs-4 ms-1">150.00</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- ORDER SUMMARY -->
                  <div
                    class="bg-white rounded p-4 d-flex flex-column"
                    aria-labelledby="orderSummaryHeading"
                    role="region"
                  >
                    <h3 id="orderSummaryHeading" class="h3 fw-medium mb-3">
                      Order Summary
                    </h3>

                    <div class="w-100 align-self-end" style="max-width: 500px">
                      <div class="mb-4">
                        <label for="discountCode" class="form-label"
                          >Gift Card / Discount Code</label
                        >
                        <div class="row g-2">
                          <div class="col-8">
                            <input
                              id="discountCode"
                              type="text"
                              class="form-control bg-light"
                              aria-label="Enter discount code"
                            />
                          </div>
                          <div class="col-4">
                            <button
                              id="applyDiscount"
                              class="btn btn-outline-primary w-100"
                              aria-label="Apply discount code"
                            >
                              Apply
                            </button>
                          </div>
                        </div>
                      </div>

                      <div class="d-flex justify-content-between py-2">
                        <span>Subtotal</span>
                        <span>SAR 300.00</span>
                      </div>
                      <hr />

                      <div class="d-flex justify-content-between py-2">
                        <span>Sales tax (6.5%)</span>
                        <span>SAR 20.00</span>
                      </div>
                      <hr />

                      <div class="d-flex justify-content-between py-2">
                        <strong>Total Due</strong>
                        <strong class="text-primary">SAR 320.00</strong>
                      </div>

                      <button
                        id="payButton"
                        class="btn btn-primary w-100 py-3 mt-3"
                        aria-label="Pay total amount three hundred and twenty Saudi Riyals"
                      >
                        Pay SAR 320.00
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>

    <!-- Scripts -->
    <script>
      // Mark decorative icons as hidden from assistive tech (applies to icon elements that are purely decorative)
      document.querySelectorAll("i.bi").forEach((icon) => {
        icon.setAttribute("aria-hidden", "true");
      });

      // Offcanvas focus management & accessible attributes
      (function () {
        const offcanvas = document.getElementById("mobileSidebar");
        const hamburger = document.getElementById("hamburgerBtn");

        if (offcanvas && hamburger) {
          // Update aria-expanded on hamburger when offcanvas shows/hides
          offcanvas.addEventListener("shown.bs.offcanvas", () => {
            hamburger.setAttribute("aria-expanded", "true");
            const first = offcanvas.querySelector("button, a");
            if (first) first.focus();
          });

          offcanvas.addEventListener("hidden.bs.offcanvas", () => {
            hamburger.setAttribute("aria-expanded", "false");
            // return focus to hamburger
            hamburger.focus();
          });
        }
      })();

      // Language switch handling (single consolidated script)
      (function () {
        const pageStatus = document.getElementById("pageStatus");
        const langButton = document.getElementById("langButton");
        const langMenu = document.getElementById("langMenu");
        const bootstrapLink = document.getElementById("bootstrap-style");

        function setLanguage(lang) {
          // Update document attributes
          document.documentElement.lang = lang;
          document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

          // Update bootstrap if available
          if (bootstrapLink) {
            bootstrapLink.href =
              lang === "ar"
                ? "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css"
                : "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css";
          }

          // Update visible label on toggle button
          if (langButton) {
            langButton.textContent = lang === "ar" ? "العربية" : "English";
          }

          // Update menuitems' aria-checked states and active class
          const items = langMenu
            ? langMenu.querySelectorAll("[data-lang]")
            : [];
          items.forEach((btn) => {
            const itemLang = btn.getAttribute("data-lang");
            const isChecked = itemLang === lang;
            btn.setAttribute("aria-checked", String(isChecked));
            if (isChecked) {
              btn.classList.add("active");
            } else {
              btn.classList.remove("active");
            }
          });

          // Announce change to screen reader users
          if (pageStatus) {
            pageStatus.textContent =
              lang === "ar"
                ? "Language changed to Arabic"
                : "Language changed to English";
          }
        }

        // Attach click listeners to language items
        document.querySelectorAll("[data-lang]").forEach((btn) => {
          // Ensure they are keyboard accessible
          btn.setAttribute("tabindex", "0");

          btn.addEventListener("click", (e) => {
            const lang = btn.getAttribute("data-lang");
            setLanguage(lang);
          });

          btn.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              btn.click();
            }
          });
        });

        // Initialize from currently active item if present
        const active =
          document.querySelector("[data-lang].active") ||
          document.querySelector("[data-lang]");
        if (active) {
          setLanguage(active.getAttribute("data-lang"));
        }
      })();

      // Simple keyboard-friendly behavior for Pay / Apply buttons (example: announce action)
      (function () {
        const payBtn = document.getElementById("payButton");
        const applyBtn = document.getElementById("applyDiscount");
        const pageStatus = document.getElementById("pageStatus");

        if (applyBtn) {
          applyBtn.addEventListener("click", () => {
            // Placeholder behavior: announce application attempt
            if (pageStatus) pageStatus.textContent = "Discount code checked";
          });
        }

        if (payBtn) {
          payBtn.addEventListener("click", () => {
            // Placeholder behavior: announce payment action
            if (pageStatus) pageStatus.textContent = "Proceeding to payment";
          });
        }
      })();
    </script>

    <!-- Bootstrap JS -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
