<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Set your password - SIIA</title>

    <link
      id="bootstrap-style"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="../css/style.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-white">
    <!-- Header – 100% copy of your login page -->
    <header class="py-3 border-bottom bg-white" role="banner">
      <div
        class="container d-flex justify-content-between align-items-center gap-4"
        role="navigation"
        aria-label="Main navigation"
      >
        <div class="d-flex align-items-center gap-2">
          <img
            src="../images/saia-logo.svg"
            alt="SIIA Logo"
            style="height: 50px; width: auto"
          />
        </div>

        <div class="d-flex align-items-center gap-3">
          <form
            class="position-relative"
            role="search"
            aria-label="Site search"
          >
            <label for="search" class="visually-hidden">Search</label>
            <input
              id="search"
              type="search"
              class="form-control form-control-sm ps-8"
              placeholder="Search"
            />
            <i
              class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-2 text-body-tertiary small"
              aria-hidden="true"
            ></i>
          </form>

          <div class="dropdown">
            <button
              id="langButton"
              class="btn btn-sm btn-outline-secondary dropdown-toggle border"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              aria-label="Select language"
            >
              English
            </button>
            <ul class="dropdown-menu" role="menu">
              <li>
                <button
                  class="dropdown-item active"
                  data-lang="en"
                  role="menuitem"
                >
                  English
                </button>
              </li>
              <li>
                <button class="dropdown-item" data-lang="ar" role="menuitem">
                  العربية
                </button>
              </li>
            </ul>
          </div>

          <a href="#" class="btn btn-sm btn-primary" role="button"
            >Contact Us</a
          >
        </div>
      </div>
    </header>

    <!-- Main Content – exactly the same structure as your login page -->
    <div class="container py-10" id="main-content">
      <div class="row g-8 justify-content-center align-items-center">
        <!-- Left side text (same as login page) -->
        <div
          class="col-xl-8 col-lg-7 col-12 text-center text-lg-start mb-4 mb-lg-0"
        >
          <h2 class="fw-bold">Welcome to the SIIA</h2>
          <p>
            Lörem ipsum bebonar bongen, transaktiv.<br />
            Curlingförälder maspedat däloling om nelig.
          </p>
        </div>

        <!-- Right side card – now with the “Set your password” form -->
        <div class="col-xl-4 col-lg-5 col-md-8 col-10">
          <div class="card px-10 py-5">
            <h3 class="mb-4 text-center">Set your password</h3>

            <form id="setPasswordForm" aria-labelledby="form" novalidate>
              <div class="mb-6">
                <label for="createPassword" class="form-label"
                  >Create Password</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="createPassword"
                  placeholder="••••••••"
                  required
                  required
                />
                <div
                  id="createPassword-error"
                  class="error-text"
                  role="alert"
                  aria-live="polite"
                ></div>
              </div>

              <div class="mb-6">
                <label for="confirmPassword" class="form-label"
                  >Confirm password</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="confirmPassword"
                  placeholder="••••••••"
                  required
                />
                <div
                  id="confirmPassword-error"
                  class="error-text"
                  role="alert"
                  aria-live="polite"
                ></div>
              </div>

              <button type="submit" class="btn btn-primary w-100 mb-6">
                <i class="bi bi-arrow-right"></i> Continue
              </button>

              <p>
                By continuing, you agree to the
                <a href="#">Terms of use</a> and <a href="#">Privacy Policy</a>.
              </p>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Language switcher – identical to your login page
      document.querySelectorAll("[data-lang]").forEach((btn) =>
        btn.addEventListener("click", () => {
          const lang = btn.getAttribute("data-lang");
          document.documentElement.lang = lang;

          if (lang === "ar") {
            document.documentElement.dir = "rtl";
            document.getElementById("bootstrap-style").href =
              "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css";
            document.getElementById("langButton").textContent = "العربية";
          } else {
            document.documentElement.dir = "ltr";
            document.getElementById("bootstrap-style").href =
              "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css";
            document.getElementById("langButton").textContent = "English";
          }
        })
      );

      // Simple validation (same style as your login page)
      const form = document.getElementById("setPasswordForm");
      const pass1 = document.getElementById("createPassword");
      const pass2 = document.getElementById("confirmPassword");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        let valid = true;

        // Reset
        pass1.classList.remove("is-invalid");
        pass2.classList.remove("is-invalid");
        document.getElementById("createPassword-error").textContent = "";
        document.getElementById("confirmPassword-error").textContent = "";

        if (!pass1.value) {
          pass1.classList.add("is-invalid");
          document.getElementById("createPassword-error").textContent =
            "Password is required.";
          valid = false;
        } else if (pass1.value.length < 8) {
          pass1.classList.add("is-invalid");
          document.getElementById("createPassword-error").textContent =
            "Password must be at least 8 characters.";
          valid = false;
        }

        if (pass1.value !== pass2.value) {
          pass2.classList.add("is-invalid");
          document.getElementById("confirmPassword-error").textContent =
            "Passwords do not match.";
          valid = false;
        }

        if (valid) {
          alert("Password successfully set!");
          // form.submit(); // uncomment when connected to backend
        }
      });
    </script>
  </body>
</html>
